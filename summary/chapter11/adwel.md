# 보안

## 핵심 원칙
### 최소 권한의 원칙
- 시스템 엑세스 권한을 부여할 때 기능을 수행하는데 필요한 최소한의 권한을 부여 해야 함
- 제한된 시간 동안만 엑세스 제어를 부여하여 탈취될 경우 악영향을 더욱 제한 할 수 있음

### 심층 방버
-  공격자로부터 방어하기 위해 여러 보호 장치를 갖추는 것이 중요
- 기능을 여러 마이크로서비스로 분리하고 해당 마이크로서비스가 수행할 수 있는 범위를 제한

### 자동화
- 자동화를 사용하여 보안키를 교체하고 도구를 사용하여 잠재적인 보안 문제를 보다 쉽게 감지할 수 있다.

### 배포 프로세스에 보안 주입
- 테스트가 주요 배포 프로세스가 된것 처럼 보안도 다르지 않아야 함
- 개발자가 보안 관련 사항에 일반적인 인식을 가져야 하며 구축할 수 있도록 도구를 개선해야 함

## 사이버 보안의 다섯 가지 기능
- 잠재적인 공격자가 누구인지, 공격 대상이 무엇인지, 가장 취약한 곳은 어디인지 식별하라
- 잠재적인 해커로부터 주요자산을 보호하라
- 최선의 노력에도 불구하고 공격이 발생했는지 감지하라
- 나쁜 일이 발생했다는 것을 알게 되면 대응하라
- 사고 발생 후 복구하라

### 식별
- 공격자가 무엇을 원하는지 공격자의 사고방식으로 행동하여 위협 모델링을 해야 함
- 가장 큰 위험을 파악할 시간을 가지지 않으면 후에 더 많은 시간을 투자해야 함

### 보호
- 가장 가치 있고 취약한 자산을 식별한 후에 적절하게 보호가 되고 있는지 확인해야 함
- 마이크로서비스 아키텍쳐는 공격할 수 있는 표면적이 훨씬 넓기 때문에 보호해야 할 대상이 많음

### 탐지
- 마이크로 서비스 아키텍쳐를 사용하게 되면 원천 정보가 크게 증가하여 문제 탐지가 더욱 어려움
- 불량행위를 감지하는 다양한 도구 검토 필요

### 대응
- 침해 범위와 노출된 데이터를 이해야여 추가 손상을 제한 해야 함
- 조직의 다른 부서와 대화하여 내부 상황을 처리하는 방법을 중요하게 고려

### 복구
- 복잡한 마이크로 서비스 환경을 복구 하기위해 다양한 자동화 필요 (백업 등..)

## 애플리케이션 보안의 기초
### 자격 증명
- 사람 또는 시스템에게 제한된 자원에 대한 엑세스 권한을 부여
- 자격 증명은 모두 교체, 폐기, 권한의 문제를 고려해야 함

#### 사용자 자격 증명
- 이메일 및 패스워드 조합과 같은 사용자 인증 정보 탈취는 해킹에서 많은 비율을 차지
- 패스워드와 같은 것들을 올바르게 처리하는 권고안을 따랴야 함

#### 시크릿
- 인증서, API 키 등 마이크로 서비스가 작동하는데 필수적인 정보
- 어떻게 생성,배포되며 어디에 저장되있는지 모니터링 할 수 있어야 하며 쉽게 교체 가능해야 함
- 많은 시크릿을 관리해야 된다면 적절한 도구를 사용해야 함

#### 교체
- 자격 증명을 자주 교체하여 피해를 제한하는 것이 이상적
- 시간 제한된 자격 증명을 사용하여 해킹 예방 및 시스템에서도 유용하게 사용 가능
- 키 교체의 결과로 시스템의 작동을 멈춰 장애를 발생하지 않도록 주의

#### 폐기
- 자격 증명의 유출되면 신속하게 폐지하고 재생성할 수 있어야 함
- 긴급 폐기를 할 수 있는 마이크로 서비스 환경을 구축해야 함

#### 범위제한
- 자격 증명의 범위를 제한하는 것은 최소 권한 원칙을 수용하는 개념의 핵심
- 자격 증명을 고유하게 사용하면 문제 발생시 특정 범위 교체 및 쉽게 추적 가능함
- 세분화된 자격 증명을 대규모로 관리하기 어려움 자동화가 필수적

### 패치
- 지속적인 패치 적용으로 보안을 예방할 수 있음
- 오랜시간 동안 서비스하고 있는 컨테이너는 패치를 적용할 수 없어 보안에 취약할 수 있음
- 사용하고 있는 라이브러리 프레임워크가 취약성이 있는지 지속적으로 확인해야 함 관리가 어렵다면 도구를 사용

### 백업
- 데이터 저장소 기술의 발전 혹은 시스템의 복제 기능에 현옥되어 데이터 백업 우선순위를 낮춰서는 안됨
- 백업본으로 복구를 정기적으로 실행하여 백업 데이터가 정상적인 상태인지 확인해야 함

### 재구축
- 정기적으로 서버를 재구축하고 자격 증명을 교체한다면 공격자의 영향을 크게 제한할 수 있음
- 컨테이너를 사용하면 이를 달성하기가 쉬움

## 암묵적 신뢰 대 제로 트러스트
### 암묵적 신뢰
